#!/bin/bash

if [ -n "$eclipse_development_dir" ]; then
  volumes="$volumes -v $eclipse_development_dir:/home/developer/development"
else
  volumes="$volumes -v $HOME/development:/home/developer/development"
fi

docker run -ti --rm \
           -e DISPLAY=$DISPLAY \
           -v /tmp/.X11-unix:/tmp/.X11-unix \
           -v `pwd`:/workspace \
           -v $HOME/.eclipse-docker:/home/developer/.eclipse \
           -v $HOME/.m2-mug:/home/developer/.m2 \
           -v $HOME/.ivy2-mug:/home/developer/.ivy2 \
           -v $HOME/opt/jdk7:/home/developer/opt/jdk7 \
           $volumes \
           fgrehm/eclipse:v4.4.1

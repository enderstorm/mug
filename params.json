{"name":"Mug","tagline":"Developer's workbench primarily oriented for web apps development supported by Docker and other fancy technologies","body":"Mug development workbench\r\n=========================\r\n\r\n![alt text](images/logo.png \"mug\")\r\n\r\nMug helps you not to install your development workbench. It should always be easy as drinking from a mug ;)\r\n\r\n# Requirements\r\n\r\n* bash\r\n* curl\r\n* python\r\n* (optional) [cutlery](https://github.com/seges/cutlery)\r\n\r\n# Install\r\n\r\n```\r\ncurl https://github.com/seges/mug/raw/master/setup.sh | sudo sh\r\n```\r\n\r\n# Run\r\n\r\nMug's main purpose is to support your whole development lifecycle and therefore there are multiple options what to work with:\r\n\r\n* Setup phase - start default Docker containers supporting your runtime environment - ambassador, discovery, etc...\r\n* Development phase - jump to development environment and build, compile, etc...\r\n\r\n## Setup phase\r\n\r\nmug currently supports runtime environment (composition of your application containers, not composition of development containers) utilizing Consul and Ambassador. It is capable of preparing such environment as easy as:\r\n\r\n```\r\nmug docker-base restart wlan0\r\n```\r\n\r\nwhich:\r\n\r\n* sets global DNS for every following container to the one provided by Consul at Docker's bridge interface\r\n* starts [Progrium's Ambassador](https://github.com/progrium/ambassadord)\r\n* starts [Consul](http://www.consul.io) with [Registrator](https://github.com/progrium/registrator)\r\n\r\nIt utilizes [Cutlery](https://github.com/seges/cutlery) project that contains basic scripts to work with such Docker environment.\r\n\r\n## Development phase\r\n\r\n### Existing project\r\n\r\n```\r\ncd <project_dir>\r\nmug\r\n```\r\n\r\n### New project\r\n\r\nWhen you want to create a new project and you want to utilize the environment:\r\n\r\n```\r\ncd <workspace_dir>\r\nmug <module>\r\n```\r\n\r\nWhere **module** is one of:\r\n\r\n* backend-java\r\n* backend-scala\r\n* frontend-javascript\r\n\r\n### Configuration\r\n\r\nIt is possible to define some project or workbench common parameters not included in the main code of mug to keep it reusable. You can create **.mugrc** file in your **home** directory with following possible values:\r\n\r\n| Parameter | Description\r\n| --------- | ---------------\r\n| mug_data  | Specifies mug data container to be run for every mug execution if it is not already running. See [Custom project/workbench data](#custom-projectworkbench-data).\r\n\r\n### Custom project/workbench data\r\n\r\nImagine the situation you need to provide project or company specific data, e.g. default \"settings.xml\" in Maven repository or common configuration file for git. But such data is specific to the project or the company. In order not to modify the module image each time and have it generic, you should follow the Docker's pattern of data containers.\r\n\r\nIt is possible to add project or workbench specific data into the module image by providing additional Docker container with specific name **mug-data**. If such container exists, *mug* will include it as \"volumes-from\". If it is specified in the mug configuration parameter **mug_data**, it will be automatically started if it is not runnig.\r\n\r\nThere is a short-cut to run the data container manually for whatever reason:\r\n\r\n```\r\nmug-data acme/mug-data\r\n```\r\n\r\n### Runtime initialization\r\n\r\nThere is a possibility to initialize various aspects of the running environment, e.g. copying some workbench data upon start of the module container. It is strongly dependent on the module image implementation but images already implemented in mug have basic initialization routines.\r\n\r\nData that should be provided is usually contained either in:\r\n* module image's directory\r\n* mug-data image\r\n\r\nIf you want to know more about the support for initialization in provided modules, take a look in the appropriate documentation of the module. In case you want to utilize the support in mug, you have to:\r\n* copy ```entrypoint.sh``` to your Docker context\r\n* create ```docker-entrypoint.d``` and include all initialization scripts inside\r\n* put following lines in Dockerfile:\r\n```\r\nADD entrypoint.sh /home/developer/\r\nADD docker-entrypoint.d/ /docker-entrypoint.d/\r\n\r\nCMD [\"sudo\", \"/home/developer/entrypoint.sh\"]\r\n```\r\n\r\n# Modules\r\n\r\n## backend-java\r\n\r\nCopies /home/developer/home-init.d into /home/developer and /home/developer/.m2.tmpl into /home/developer/.m2/repository\r\n\r\n## backend-scala\r\n\r\nCopies ivy cached dependencies\r\n\r\n## frontend-javascript\r\n\r\n# Development\r\n\r\n* implement a Docker image inside \"docker\" directory\r\n* extend ```bin/mug``` script in order to properly identify the project\r\n* add initialization scripts in /docker-entrypoint.d using ADD or COPY\r\n** use ```entrypoint.sh``` as your main command\r\n\r\nUse ```docker-build.sh``` and ```docker-push.sh``` commands to prepare images.","google":"UA-569687-27","note":"Don't delete this file! It's used internally to help with page regeneration."}